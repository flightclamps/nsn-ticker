<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>NSN SPORTS — Live Scores, News & Fan Talk</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    background: #0a0a0a;
    overflow: hidden;
    font-family: Arial, sans-serif;
  }

  .ticker-wrapper {
    width: 100vw;
    height: 72px;
    display: flex;
    align-items: center;
    background: #0a0a0a;
    border-top: 3px solid #1E88E5;
    border-bottom: 3px solid #1E88E5;
    box-shadow: 0 0 14px #1E88E5;
  }

  .logo-box {
    width: 320px;
    height: 100%;
    background: linear-gradient(135deg, #1E88E5, #0f5ea8);
    border-right: 3px solid #ffffff;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    padding-left: 14px;
    box-sizing: border-box;
  }

  .logo-main {
    color: white;
    font-size: 22px;
    font-weight: 900;
    letter-spacing: 1px;
  }

  .logo-sub {
    margin-top: 3px;
    font-size: 11px;
    font-weight: 600;
    color: white;
    opacity: 0.9;
  }

  .logo-powered {
    margin-top: 3px;
    font-size: 10px;
    font-weight: 600;
    color: #e0f2ff;
    opacity: 0.9;
  }

  .track-wrapper {
    flex: 1;
    height: 100%;
    overflow: hidden;
    position: relative;
  }

  .track {
    position: absolute;
    white-space: nowrap;
    font-size: 22px;
    font-weight: 600;
    color: white;
    padding-left: 100%;
    animation-name: move;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }

  .item {
    margin-right: 70px;
  }

  .label {
    color: #FFC107;
    font-weight: 900;
    margin-right: 10px;
  }

  @keyframes move {
    from { transform: translateX(0); }
    to   { transform: translateX(-100%); }
  }
</style>
</head>

<body>

<div class="ticker-wrapper">
  <div class="logo-box">
    <div class="logo-main">NSN SPORTS</div>
    <div class="logo-sub">NotSoNetwork • No Commercials</div>
    <div class="logo-powered">Powered by ApexGrid Analytics</div>
  </div>

  <div class="track-wrapper">
    <div class="track" id="track"></div>
  </div>
</div>

<script>
  // ================================
  // SETTINGS
  // ================================
  var proxyBase = "https://api.allorigins.win/raw?url=";  // easy proxy
  var REFRESH_MS = 120000;   // refresh every 2 minutes
  var SPEED_PPS  = 35;       // pixels per second of scroll (change to tweak speed)

  var track = document.getElementById("track");

  // ================================
  // DATA SOURCES
  // ================================
  var scoreboardSources = [
    { label: "NFL", url: proxyBase + encodeURIComponent("https://site.api.espn.com/apis/site/v2/sports/football/nfl/scoreboard") },
    { label: "NBA", url: proxyBase + encodeURIComponent("https://site.api.espn.com/apis/site/v2/sports/basketball/nba/scoreboard") },
    { label: "NHL", url: proxyBase + encodeURIComponent("https://site.api.espn.com/apis/site/v2/sports/hockey/nhl/scoreboard") },
    { label: "SOC", url: proxyBase + encodeURIComponent("https://site.api.espn.com/apis/site/v2/sports/soccer/scoreboard") }
  ];

  var newsFeeds = [
    { label: "ESPN",  url: proxyBase + encodeURIComponent("https://www.espn.com/espn/rss/news") },
    { label: "CBS",   url: proxyBase + encodeURIComponent("https://www.cbssports.com/rss/headlines/") },
    { label: "YAHOO", url: proxyBase + encodeURIComponent("https://sports.yahoo.com/rss/") }
  ];

  var staticLines = [
    { label: "NSN", text: "WELCOME TO NSN SPORTS • DROP YOUR FAVORITE TEAM IN CHAT" },
    { label: "NSN", text: "JOIN THE CLUB FOR 1 COIN!!!!!" },
    { label: "NSN", text: "SONG REQUESTS: !play Song - Artist" },
    { label: "NSN", text: "LIKE THE STREAM • FOLLOW • SHARE WITH A FRIEND" }
  ];

  var fanQuestions = [
    "COWBOYS FANS: IS THIS THE YEAR OR ARE YOU STILL WAITING?",
    "EAGLES FANS: WHAT IS THE BIGGEST NEED RIGHT NOW?",
    "CHIEFS FANS: HOW DO YOU FEEL ABOUT THE RECEIVER ROOM?",
    "BILLS FANS: WHAT IS THE MISSING PIECE FOR A TITLE RUN?",
    "49ERS FANS: WHO IS THE REAL MVP OF THIS TEAM?",
    "RAVENS FANS: IS THIS THE BEST VERSION OF LAMAR?",
    "STEELERS FANS: HOW MANY WINS DOES TOMLIN GET THIS SEASON?",
    "DOLPHINS FANS: DO YOU TRUST THIS OFFENSE IN THE PLAYOFFS?",
    "PACKERS FANS: ARE YOU ALL-IN ON JORDAN LOVE?",
    "BEARS FANS: DO YOU BELIEVE IN THE CURRENT QB?",
    "LAKERS FANS: MORE SHOOTING OR MORE DEFENSE?",
    "CELTICS FANS: WHO IS YOUR X-FACTOR?",
    "WARRIORS FANS: HOW MANY PRIME YEARS DOES CURRY HAVE LEFT?",
    "KNICKS FANS: WHAT MOVE DO YOU WANT NEXT?",
    "HEAT FANS: WHO FITS HEAT CULTURE THE MOST?",
    "MAVS FANS: HOW FAR CAN LUKA TAKE THIS CORE?",
    "SPURS FANS: WHAT IS WEMBY’S REALISTIC CEILING?",
    "SOCCER FANS: WHO IS THE BEST CLUB IN THE WORLD RIGHT NOW?",
    "PREMIER LEAGUE FANS: WHO FINISHES TOP FOUR?",
    "CFB FANS: WHO IS YOUR TRUE NO. 1 TEAM?",
    "TEXAS FANS: IS TEXAS BACK FOR REAL THIS TIME?",
    "MICHIGAN FANS: WHAT IS THE MINIMUM EXPECTATION NEXT SEASON?",
    "OHIO STATE FANS: BEAT MICHIGAN OR WIN A TITLE, WHICH MATTERS MORE?"
  ];

  // ================================
  // HELPERS
  // ================================
  function shuffle(arr) {
    var a = arr.slice();
    for (var i = a.length - 1; i > 0; i--) {
      var j = Math.floor(Math.random() * (i + 1));
      var tmp = a[i]; a[i] = a[j]; a[j] = tmp;
    }
    return a;
  }

  function addItem(label, text) {
    var span = document.createElement("span");
    span.className = "item";
    span.innerHTML = '<span class="label">' + label + '</span>' + text;
    track.appendChild(span);
  }

  // constant-speed scroll engine
  function applyConstantSpeed() {
    track.style.animationDuration = "0s"; // reset
    void track.offsetWidth;               // force reflow
    var totalWidth = track.scrollWidth || 1;
    var timeSeconds = totalWidth / SPEED_PPS;
    track.style.animationDuration = timeSeconds + "s";
  }

  function addFanQuestions() {
    var shuffled = shuffle(fanQuestions);
    var count = Math.min(8, shuffled.length);
    for (var i = 0; i < count; i++) {
      addItem("CHAT", shuffled[i]);
    }
  }

  // ================================
  // LOAD SCORES (FINAL ONLY)
  // ================================
  function loadScores(done) {
    var idx = 0;

    function nextSource() {
      if (idx >= scoreboardSources.length) {
        done();
        return;
      }

      var src = scoreboardSources[idx++];
      fetch(src.url)
        .then(function(res) { return res.json(); })
        .then(function(data) {
          var events = (data && data.events) || [];
          var added = 0;

          for (var j = 0; j < events.length && added < 5; j++) {
            var ev = events[j];
            var comps = ev.competitions || [];
            var comp = comps[0];
            if (!comp || !comp.competitors || comp.competitors.length < 2) continue;

            var statusObj = ev.status && ev.status.type;
            var desc = statusObj && statusObj.description ? statusObj.description.toLowerCase() : "";
            var isFinal = statusObj && (statusObj.completed || desc.indexOf("final") !== -1);
            if (!isFinal) continue;

            var c1 = comp.competitors[0];
            var c2 = comp.competitors[1];

            var t1 = (c1.team && (c1.team.abbreviation || c1.team.shortDisplayName || c1.team.name)) || "TEAM1";
            var t2 = (c2.team && (c2.team.abbreviation || c2.team.shortDisplayName || c2.team.name)) || "TEAM2";

            var s1 = c1.score || "0";
            var s2 = c2.score || "0";

            addItem(src.label + " FINAL", t1 + " " + s1 + " • " + t2 + " " + s2);
            added++;
          }
        })
        .catch(function(err) {
          console.log("Score error:", src.label, err);
        })
        .then(nextSource);
    }

    nextSource();
  }

  // ================================
  // LOAD NEWS
  // ================================
  function loadNews(done) {
    var parser = new DOMParser();
    var idx = 0;

    function nextFeed() {
      if (idx >= newsFeeds.length) {
        done();
        return;
      }

      var feed = newsFeeds[idx++];
      fetch(feed.url)
        .then(function(res) { return res.text(); })
        .then(function(text) {
          var xml = parser.parseFromString(text, "text/xml");
          var items = xml.querySelectorAll("item");
          var limit = Math.min(items.length, 4);

          for (var j = 0; j < limit; j++) {
            var titleNode = items[j].querySelector("title");
            if (!titleNode) continue;
            var title = titleNode.textContent;
            if (!title) continue;
            addItem(feed.label + " NEWS", title.trim());
          }
        })
        .catch(function(err) {
          console.log("News error:", feed.label, err);
        })
        .then(nextFeed);
    }

    nextFeed();
  }

  // ================================
  // BUILD TICKER
  // ================================
  function buildTicker() {
    track.innerHTML = "";

    // engagement lines
    for (var i = 0; i < staticLines.length; i++) {
      addItem(staticLines[i].label, staticLines[i].text);
    }

    // scores -> news -> questions -> finalize
    loadScores(function() {
      loadNews(function() {
        addFanQuestions();

        // duplicate everything for seamless loop
        var children = track.children;
        var clones = [];
        for (var k = 0; k < children.length; k++) {
          clones.push(children[k].cloneNode(true));
        }
        for (var m = 0; m < clones.length; m++) {
          track.appendChild(clones[m]);
        }

        applyConstantSpeed();
      });
    });
  }

  document.addEventListener("DOMContentLoaded", function() {
    buildTicker();
    setInterval(buildTicker, REFRESH_MS);
  });
</script>

</body>
</html>